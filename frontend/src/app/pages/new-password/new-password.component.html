<app-first-navbar></app-first-navbar>
<main>
    <section class="form-container">
        <form [formGroup]="newPasswordForm">
            <section class="form-elements-container">
                <h2>Ingresar nuevo password</h2>
                <mat-form-field class="example-full-width">
                    <mat-label>Password:</mat-label>
                    <button mat-icon-button matSuffix (click)="visibilityTogglePassword()">
                        <mat-icon>{{getVisibilityPassword()}}</mat-icon>
                    </button>
                    <input matInput placeholder="Nuevo password" formControlName="password" [type]="getInputTypePassword()">
                </mat-form-field>

                <section class="validation">
                    <p [ngClass]="
                        password?.value.length === 0 ? 'information' : password?.hasError('minlength') ? 'fail' : 'success'" >
                        <mat-icon style="margin-bottom: -7px; margin-right: 7px;">
                           {{  getIconToMinLength() }}
                        </mat-icon>
                        Mínmio 8 caractares
                    </p>
                    <p [ngClass]="
                        this.password?.value.length === 0 ? 'information' : this.password?.hasError('maxlength') ? 'fail' : 'success'" >
                        <mat-icon style="margin-bottom: -7px; margin-right: 7px;">
                           {{  getIconToMaxLength() }}
                        </mat-icon>
                        Máximo 50 caracteres
                    </p>
                    <p [ngClass]="
                        this.password?.value.length === 0 ? 'information' : this.password?.hasError('capitalLetterError') ? 'fail' : 'success'" >
                        <mat-icon style="margin-bottom: -7px; margin-right: 7px;">
                           {{  getIconUpperCase() }}
                        </mat-icon>
                        Debe contener mayúscula
                    </p>
                    <p [ngClass]="
                        this.password?.value.length === 0 ? 'information' : this.password?.hasError('lowerCaseError') ? 'fail' : 'success'" >
                        <mat-icon style="margin-bottom: -7px; margin-right: 7px;">
                           {{  getIconLowerCase() }}
                        </mat-icon>
                        Debe contener minúscula
                    </p>
                    <p [ngClass]="
                        this.password?.value.length === 0 ? 'information' : this.password?.hasError('numberError') ? 'fail' : 'success'" >
                        <mat-icon style="margin-bottom: -7px; margin-right: 7px;">
                           {{  getIconNumber() }}
                        </mat-icon>
                        Debe contenern al menos un número
                    </p>
                </section>
                
                <mat-form-field class="example-full-width">
                    <mat-label>Confirmación de password:</mat-label>
                    <button mat-icon-button matSuffix (click)="visibilityTogglePasswordConfirm()">
                        <mat-icon>{{getVisibilityPasswordConfirm()}}</mat-icon>
                    </button>
                    <input matInput placeholder="Confirmar password" formControlName="passwordConfirm" [type]="getInputTypePasswordConfirm()">
                </mat-form-field>
                <section class="validation">
                    <p *ngIf="this.passwordConfirm?.value.length > 0 && this.newPasswordForm.hasError('passwordConfirmedError') ? 'fail' : null" class="fail">
                        <mat-icon style="margin-bottom: -7px; margin-right: 7px;">
                           cancel
                        </mat-icon>
                        Los password no coinciden
                    </p>
                </section>
                
                <button [disabled]="newPasswordForm.invalid" mat-raised-button (click)="newPassword()">Generar</button>
            </section>
        </form>
    </section>
</main>

